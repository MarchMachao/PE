<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8">
<title></title>
<link rel="stylesheet" type="text/css"href="easyUI/themes/default/easyui.css">
<link rel="stylesheet" type="text/css" href="easyUI/themes/icon.css">

<style>
.paraDiv {
	margin-top: 10px;
	float: left;
	margin-left: 5px;
}
</style>
<style>
	.l-btn-text{
		font-size: 15px;
	}
	.panel-body{
		font-size: 15px;
	}
	.textbox .textbox-text{
		font-size: 10px;
	}
	.panel-title{
		font-size: 15px;
	}
</style>
</head>

<body>
<!-- 	<div id='Loading' -->
<!-- 		style="position: absolute; z-index: 1000; top: 0px; left: 0px; width: 100%; height: 100%; background: #FFFFFF ; text-align: center; padding-top: 20%;"> -->
<!-- 		<h1> -->
<!-- 			<image src='images/camera-loader.gif' /> -->
<!-- 			<font color="#15428B">加载中···</font> -->
<!-- 		</h1> -->
<!-- 	</div> -->
	<h2 style="text-align: center;">学生成绩(教师页面)</h2>
	<div>
		<div style="margin-bottom: 20px;">
			<div class="paraDiv">
				<span class="paraName">学生姓名:</span> <input class="easyui-textbox"
					id="name" name="name"
					style="width: 100px; height: 32px; marin-top: 10px;">
			</div>
			<div class="paraDiv">
				<span class="paraName">学号:</span> <input class="easyui-textbox"
					id="id" name="id"
					style="width: 100px; height: 32px; marin-top: 10px;">
			</div>
			<div class="paraDiv">
				<span class="paraName">学院:</span> 
				<select class="easyui-combobox" id="school" name="school" style="width:160px;height: 32px">
					<option value="">全部</option>
					<option value="医学院">医学院</option>
					<option value="萃英学院">萃英学院</option>
					<option value="国际文化交流学院">国际文化交流学院</option>
					<option value="文学院">文学院</option>
					<option value="新闻与传播学院">新闻与传播学院</option>
					<option value="历史文化学院">历史文化学院</option>
					<option value="哲学社会学院">哲学社会学院</option>
					<option value="经济学院">经济学院</option>
					<option value="管理学院">管理学院</option>
					<option value="外国语学院">外国语学院</option>
					<option value="法学院">法学院</option>
					<option value="马克思主义学院">马克思主义学院</option>
					<option value="艺术学院">艺术学院</option>
					<option value="数学与统计学院">数学与统计学院</option>
					<option value="物理科学与技术学院">物理科学与技术学院</option>
					<option value="核科学与技术学院">核科学与技术学院</option>
					<option value="信息科学与工程学院">信息科学与工程学院</option>
					<option value="化学化工学院">化学化工学院</option>
					<option value="草地农业科技学院">草地农业科技学院</option>
					<option value="生命科学学院">生命科学学院</option>
					<option value="资源环境学院">资源环境学院</option>
					<option value="大气科学学院">大气科学学院</option>
					<option value="土木工程与力学学院">土木工程与力学学院</option>
					<option value="地质科学与矿产资源学院">地质科学与矿产资源学院</option>
					<option value="药学院">药学院</option>
					<option value="基础医学院">基础医学院</option>
					<option value="公共卫生学院">公共卫生学院</option>
					<option value="口腔医学院">口腔医学院（口腔医院）</option>
					<option value="第一临床医学院">第一临床医学院</option>
					<option value="第二临床医学院">第二临床医学院</option>
					<option value="护理学院">护理学院</option>
					<option value="体育教研部">体育教研部</option>
					<option value="网络与继续教育学院 ">网络与继续教育学院 </option>
				</select>
			</div>
			<div class="paraDiv">
				<span class="paraName">年份:</span> <input class="easyui-textbox"
					id="year" name="year"
					style="width: 100px; height: 32px; marin-top: 10px;">
			</div>
		</div>
		<a href="javascript:void(0)" id="search_btn" class="easyui-linkbutton"
			data-options="iconCls:'icon-search'"
			style="float: left; width: 70px; height: 30px; margin-top: 10px; margin-left: 10px;">查找</a>
		<a href="javascript:void(0)" id="export_btn" class="easyui-linkbutton"
			data-options="iconCls:'icon-redo'"
			style="float: left; width: 70px; height: 30px; margin-top: 10px; margin-left: 10px;">导出</a>
	</div>
	<div class="hr" style="clear: both;"></div>
	<table id="dg" style="width: 100%; height: auto;"
		data-options="rownumbers:true,singleSelect:true,pagination:true,url:'findJuniorData.do',method:'get'"
		toolbar="#tb">
		<thead>
			<tr>
				<th data-options="field:'id',width:100,align:'center'">学号</th>
				<th data-options="field:'name',width:75,align:'center'">姓名</th>
				<th data-options="field:'gender',width:40,align:'center'">性别</th>
				<th data-options="field:'grade',width:60,align:'center'">年级</th>
				<th data-options="field:'school',width:150,align:'center'">学院</th>
				<th data-options="field:'year',width:70,align:'center'">年份</th>
				<th data-options="field:'height',width:80,align:'center'">身高</th>
				<th data-options="field:'weight',width:80,align:'center'">体重</th>
				<th data-options="field:'vital_capacity',width:80,align:'center'">肺活量</th>
				<th data-options="field:'fivem',width:80,align:'center'">50m</th>
				<th data-options="field:'long_jump',width:80,align:'center'">立定跳远</th>
				<th data-options="field:'reach',width:80,align:'center'">坐位体前屈</th>
				<th data-options="field:'eightm',width:80,align:'center'">800m</th>
				<th data-options="field:'tenm',width:80,align:'center'">1000m</th>
				<th data-options="field:'sit_ups',width:80,align:'center'">仰卧起坐</th>
				<th data-options="field:'pull_up',width:80,align:'center'">引体向上</th>
				<th data-options="field:'score',width:80,align:'center'">评分</th>
				<th data-options="field:'state',width:80,align:'center'">备注</th>
				<th data-options="field:'first_check',width:80,align:'center'">第一级审核</th>
				<th data-options="field:'second_check',width:80,align:'center'">第二级审核</th>
			</tr>
	</table>
	<div id="tb">
		<a href="javascript:void(0)" id="addCustomInfo" class="easyui-linkbutton" data-options="iconCls:'icon-help'" plain="true" ">查看大三大四的体测成绩</a>
	</div>

	<div id="exportInfo" class="easyui-dialog" closed="true"
		buttons="#excel-button" title="导出成绩" style="width: 400px; height: 280px;">
		<form id="exportInfoForm" method="post" enctype="multipart/form-data" style="margin:0;padding:10px 40px">
			<table cellpadding="5">
				<tr>
					<td>学号:</td>
					<td><input class="easyui-textbox" type="text" id="ExId" name="id"  style="width: 200px; height: 32px"></input></td>
				</tr>
				<tr>
					<td>姓名:</td>
					<td><input class="easyui-textbox" type="text" id="ExName" name="name"  style="width: 200px; height: 32px"></input></td>
				</tr>
				<tr>
					<td>学院:</td>
					<td>
					<select class="easyui-combobox" id="ExSchool" name="school" style="width:100%; height: 32px">
							<option value="">全部</option>
							<option value="医学院">医学院</option>
							<option value="萃英学院">萃英学院</option>
							<option value="国际文化交流学院">国际文化交流学院</option>
							<option value="文学院">文学院</option>
							<option value="新闻与传播学院">新闻与传播学院</option>
							<option value="历史文化学院">历史文化学院</option>
							<option value="哲学社会学院">哲学社会学院</option>
							<option value="经济学院">经济学院</option>
							<option value="管理学院">管理学院</option>
							<option value="外国语学院">外国语学院</option>
							<option value="法学院">法学院</option>
							<option value="马克思主义学院">马克思主义学院</option>
							<option value="艺术学院">艺术学院</option>
							<option value="数学与统计学院">数学与统计学院</option>
							<option value="物理科学与技术学院">物理科学与技术学院</option>
							<option value="核科学与技术学院">核科学与技术学院</option>
							<option value="信息科学与工程学院">信息科学与工程学院</option>
							<option value="化学化工学院">化学化工学院</option>
							<option value="草地农业科技学院">草地农业科技学院</option>
							<option value="生命科学学院">生命科学学院</option>
							<option value="资源环境学院">资源环境学院</option>
							<option value="大气科学学院">大气科学学院</option>
							<option value="土木工程与力学学院">土木工程与力学学院</option>
							<option value="地质科学与矿产资源学院">地质科学与矿产资源学院</option>
							<option value="药学院">药学院</option>
							<option value="基础医学院">基础医学院</option>
							<option value="公共卫生学院">公共卫生学院</option>
							<option value="口腔医学院">口腔医学院（口腔医院）</option>
							<option value="第一临床医学院">第一临床医学院</option>
							<option value="第二临床医学院">第二临床医学院</option>
							<option value="护理学院">护理学院</option>
							<option value="体育教研部">体育教研部</option>
							<option value="网络与继续教育学院 ">网络与继续教育学院 </option>
						</select>
					</td>
				</tr>
				<tr>
					<td>年份:</td>
					<td><input class="easyui-textbox" type="text" id="ExYear" name="year" style="width: 200px; height: 32px"></input></td>
				</tr>
			</table>
		</form>
	</div>
	<div id="excel-button">
		<a href="javascript:void(0)" id="exportExcel" class="easyui-linkbutton" >导出成绩单</a>
		<a href="javascript:void(0)" id="downPdf" class="easyui-linkbutton" onclick="">导出名单</a>
	</div>

	<script type="text/javascript" src="easyUI/jquery.min.js"></script>
	<script type="text/javascript" src="easyUI/jquery.easyui.min.js"></script>
	<script type="text/javascript" src="easyUI/locale/easyui-lang-zh_CN.js"></script>
	<script type="text/javascript">
			var pager = $('#dg').datagrid().datagrid('getPager'); // get the pager of datagrid
		
		$("#pic").click(function(){
			var row = $('#dg').datagrid('getSelected');
			if (row) {
				searchCustomPic(row.id);
			} else {
				$.messager.alert('提示', "请选中要修改的客户信息", 'info');
			}
		})
		/*导出数据*/
		$("#export_btn").click(function(){
			$('#exportInfoForm').form('clear');
			$('#exportInfo').dialog('open').dialog('center');
		})
		
		$("#exportExcel").click(function(){
			var id = $("#ExId").val();
			var name = $("#ExName").val();
			var school = $("#ExSchool").combobox("getValue");
			var teacher = $("#Exteacher").val();
			var year = $("#ExYear").val();
			location.href = "downTeacherExcel.do?id=" + id
			+ "&name=" + name + "&school=" + school+"&teacher=" + teacher+"&year=" + year; 
			$('#exportInfo').dialog('close');
		})
		
		$("#downPdf").click(function(){
			var id = $("#ExId").val();
			var name = $("#ExName").val();
			var school = $("#ExSchool").combobox("getValue");
			var teacher = $("#Exteacher").val();
			var year = $("#ExYear").val();
			location.href = "downTeacherPDF.do?id=" + id
			+ "&name=" + name + "&school=" + school+"&teacher=" + teacher+"&year=" + year; 
			$('#exportInfo').dialog('close');
		})
		/*筛选数据结束  */
		
		/*模糊查询*/
		$("#search_btn").click(function() {
			loadCustomInfo();
		})

		function loadCustomInfo() {
			var name = $("#name").val();
			var id = $("#id").val();
			var school = $("#school").combobox("getValue");
			var teacher = $("#teacher").val();
			var year = $("#year").val();
			$('#dg').datagrid('load', {
				name : name,
				id : id,
				school : school,
				teacher : teacher,
				year : year
			});
		}

		function save() {
			$('#editInfoForm').form({
				url : 'updateTeacherAndAcademy.do',
				onSubmit : function() {
					return $(this).form('validate');
				},
				success : function(data) {
					var obj = eval("(" + data + ")");
					$('#addInfo').dialog('close');
					$.messager.alert('提示', obj.content);
					$('#dg').datagrid('reload');
				}
			});
			$('#editInfoForm').submit();
		}

		function searchCustomPic(id) {
			$('#CustomPicDialog').dialog('open');
			$.get('findCustomPicById.do',{id:id},function(data){
				$("#doorPic").attr("src",data.doorPic);
				$("#roomPic").attr("src",data.roomPic);
			})
		}
		
		function importExcel(){
			$('#importInfoForm').form({
				url : 'uploadTeachersAndAcademyExcel.do',
				onSubmit : function() {
					return $(this).form('validate');
				},
				success : function(data) {
					var obj = eval("(" + data + ")");
					$('#importInfo').dialog('close');
					$.messager.alert('提示', obj.content);
					$('#dg').datagrid('reload');
				}
			});
			$('#importInfoForm').submit();
		}
	</script>
	</body>
</html>